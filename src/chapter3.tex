\chapter{Successione spettrale omologica di uno spazio fibrato}

\section{Costruzione della successione spettrale}
Consideriamo una fibrazione $\fibration{F}{E}{B}$. Il nostro obiettivo è mettere in relazione i gruppi di omologia di $B$, $E$ e $F$; lo strumento che adopereremo sono le successioni spettrali. In questa sezione ci capiterà più volte di richiedere l'esistenza di costruzioni che associno cubi ad altri cubi, soddisfacendo determinate proprietà. Dalle dimostrazioni dell'esistenza di tali applicazioni si evince finalmente la motivazione che ci ha spinto a dare la definizione di spazi fibrati. Tuttavia, per separare nettamente la parte algebrica da quella topologica, abbiamo preferito rimandare le suddette dimostrazioni alla fine del capitolo (sezione \ref{spectral-sequences-of-fibration:proofs}).

\subsection{Filtrazione del complesso singolare}
Per applicare i risultati della sezione \ref{sec:spectral-sequence-filtered-complex}, è necessario definire una filtrazione crescente sul complesso singolare $C_\bullet(E)$ (d'ora in poi ometteremo la $E$ fra parentesi). Ciò che faremo sarà filtrare il complesso $Q_\bullet$ con dei sottocomplessi $Q^p_\bullet$ e prenderne le immagini nel quoziente $C_\bullet$.

Sia dunque $Q^p_n$ il sottogruppo di $Q_n$ generato dai cubi $u\in Q_n$ tali che $p\circ u$ dipende solo dalle prime $p$ coordinate (e $Q^p_n=Q_n$ se $p>n$). Si vede immediatamente che i $Q^p_\bullet$ sono sottocomplessi di $Q_\bullet$ e che soddisfano le proprietà di una filtrazione crescente. Dunque lo stesso vale per $C^p_\bullet=(Q^p_\bullet+D_\bullet)/D_\bullet$, che definiscono una filtrazione crescente per $C_\bullet$. Applicando la \thref{spectral-sequence-of-filtered-complex} otteniamo una successione spettrale $E^{p,q}_r\converges H_{p+q}(E)$. Come vedremo, è possibile calcolare esplicitamente i termini $E^{p,q}_2$ della successione spettrale in funzione dei gruppi di omologia di $B$ e di $F$.

\section{Il termine \texorpdfstring{$E_0$}{E0}}
Costruiamo due applicazioni $B^p$ e $F^p$ definite sui cubi di $Q^p_\bullet$ (ed estese per $\ZZ$-linearità a tutto $Q^p_\bullet$). Se $u\in\ Q^p_n$ è un cubo di dimensione $n$ con $n\ge p$, posto $q=n-p$, definiamo
\begin{align*}
(B^pu)(t_1,\ldots,t_p)&=pu(t_1,\ldots,t_p,0,\ldots,0);\\
(F^pu)(t_1,\ldots,t_q)&=u(0,\ldots,0,t_1,\ldots,t_q).
\end{align*}
$B^pu$ è un cubo di $B$ di dimensione $p$; notiamo che, poiché $u\in Q^p_n$, possiamo sostituire gli zeri nella definizione con qualunque altra $q$-upla di reali fra $0$ e $1$. $F^pu$ è invece un cubo di $F$ di dimensione $q$; la sua immagine è contenuta in $F$ poiché
$$
p(F^pu)(t_1,\ldots,t_q)=pu(0,\ldots,0,t_1,\ldots,t_q)=pu(0,\ldots,0)=b.
$$
Le seguenti proprietà sono di verifica immediata.
\begin{enumerate}
\item\label{spectral-sequence-of-fibration:pr1} $B^pu$ è degenere se e solo se $u\in Q^{p-1}_n$.
\item\label{spectral-sequence-of-fibration:pr2} Se $u$ è degenere e $q>0$ allora $F^pu$ è degenere; se $u$ è degenere e $q=0$ allora $B^pu$ è degenere.
\item\label{spectral-sequence-of-fibration:pr3} Se $i>p,\epsilon\in\{0,1\}$ allora $B^p\lambda^\epsilon_iu=B^pu$ e $F^p\lambda^\epsilon_iu=\lambda^\epsilon_{i-p}F^pu$.
\end{enumerate}

Ricordiamo che $E^{p,q}_0=C^p_{p+q}/C^{p-1}_{p+q}$ e che la mappa $\map{d^{p,q}_0}{E^{p,q}_0}{E^{p,q-1}_0}$ si ottiene dalla mappa di bordo di $C_\bullet$ per passaggio al quoziente. Possiamo dunque raggruppare i termini della successione spettrale aventi $r=0$ in complessi $E^{p,\bullet}_0$, con mappe di bordo $d^p_0$. Osserviamo che
$$
d^p_0u=\sum_{i>p}(-1)^i(\lambda^0_iu-\lambda^1_iu)
$$
in quanto per $i\le p$ vale $\lambda^\epsilon_iu\in Q^p_\bullet$.

Consideriamo il complesso $J^p_\bullet=C_p(B)\tensor C_\bullet(F)$ con mappe di bordo $d_J(b\tensor f)=(-1)^pb\tensor df$, e sia $\varphi^p$ il morfismo di complessi
\Map{\varphi^p}{E^{p,\bullet}_0}{J^p_\bullet}{u}{B^pu\tensor F^pu}
Le proprietà \ref{spectral-sequence-of-fibration:pr1} e \ref{spectral-sequence-of-fibration:pr2} garantiscono che si tratta di una buona definizione (ossia che è compatibile con il quoziente che definisce $E^{p,\bullet}_0$), mentre dalla \ref{spectral-sequence-of-fibration:pr3} segue che $\varphi^p$ è effettivamente un morfismo di complessi:
\begin{align*}
\varphi^pd^p_0u&=\varphi^p\sum_{i>p}(-1)^i(\lambda^0_iu-\lambda^1_iu)\\
&=\sum_{i>p}(-1)^i(B^p\lambda^0_iu\tensor F^p\lambda^0_iu-B^p\lambda^1_iu\tensor F^p\lambda^1_iu)\\
&=\sum_{i>p}(-1)^pB^pu\tensor(-1)^{p-i}(\lambda^0_{i-p}F^pu-\lambda^1_{i-p}F^pu)\\
&=(-1)^pB^pu\tensor dF^pu\\
&=d_J\varphi^pu.
\end{align*}

Ci proponiamo di mostrare che $\varphi^p$ è in realtà un'equivalenza omotopica. Sfrutteremo il seguente lemma per costruire un'inversa omotopica.

\begin{lemma}\thlabel{spectral-sequence-of-fibration-psi-construction}
Esiste un'applicazione $K$ che associa a ogni coppia di cubi $(u,v)$ con $u\in Q_p(B)$ e $v\in Q_q(F)$ un cubo $K(u,v)\in Q^p_{p+q}$ e che soddisfa le seguenti proprietà:
\begin{enumerate}
\item\label{spectral-sequence-of-fibration-psi-construction:pr1} $B^pK(u,v)=u$ e $F^pK(u,v)=v$;
\item\label{spectral-sequence-of-fibration-psi-construction:pr2} per ogni $i\le q,\epsilon\in\{0,1\}$ vale $K(u,\lambda^\epsilon_iv)=\lambda^\epsilon_{i+p}K(u,v)$;
\item\label{spectral-sequence-of-fibration-psi-construction:pr3} se $v$ è degenere allora $K(u,v)$ è degenere.
\end{enumerate}
\end{lemma}
\begin{proof}

\end{proof}

Definiamo allora il morfismo di complessi
\Map{\psi^p}{J^p_\bullet}{E^{p,\bullet}_0}{u\tensor v}{K(u,v)}
Osserviamo che $\psi^p$ è ben definito (ossia è compatibile con i quozienti che definiscono $J^p_\bullet$): infatti se $u$ è degenere allora $B^pK(u,v)$ è degenere per la \ref{spectral-sequence-of-fibration-psi-construction:pr1}, dunque $K(u,v)\in Q^{p-1}_\bullet$. Se invece $v$ è degenere allora $K(u,v)$ è degenere per la \ref{spectral-sequence-of-fibration-psi-construction:pr3}. Inoltre $\psi^p$ è effettivamente un morfismo di complessi, come mostra un semplice verifica:
\begin{align*}
\psi^pd_J(u\tensor v)&=(-1)^p\psi^p(u\tensor dv)\\
&=(-1)^p\psi^p\left(u\tensor\sum_{i=1}^q(-1)^i(\lambda^0_iv-\lambda^1_iv)\right)\\
&=\sum_{i=1}^q(-1)^{p+i}(K(u,\lambda^0_iv)-K(u,\lambda^1_iv))\\
&=\sum_{i=p+1}^n(-1)^i(\lambda^0_iK(u,v)-\lambda^1_iK(u,v))\\
&=d^p_0\psi^p(u\tensor v).
\end{align*}

\section{Il termine \texorpdfstring{$E_1$}{E1}}

\begin{proposition}\thlabel{spectral-sequence-of-fibration-homotopy-equivalence}
Per ogni $p$ la mappa $\map{\varphi^p}{E^{p,\bullet}_0}{J^p_\bullet}$ è un'equivalenza omotopica, di cui $\map{\psi^p}{J^p_\bullet}{E^{p,\bullet}_0}$ è un'inversa omotopica.
\end{proposition}
\begin{proof}
Si vede immediatamente che $\varphi^p\psi^p=\1$. Per dimostrare che $\psi^p\varphi^p$ è omotopo all'identità ci serviremo del seguente lemma.
\begin{lemma}
Esiste un'applicazione $S$ \todo{Forse $S$ non è il nome più adatto?} che associa a ogni cubo $u\in Q^p_n$ un cubo $Su\in Q^p_{n+1}$ e che soddisfa le seguenti proprietà:
\begin{enumerate}
\item\label{spectral-sequence-of-fibration-homotopy-equivalence:pr1} $B^pSu=B^pu$;
\item\label{spectral-sequence-of-fibration-homotopy-equivalence:pr2} $\lambda^0_{p+1}Su=u$ e $\lambda^1_{p+1}Su=K(B^pu,F^pu)$;
\item\label{spectral-sequence-of-fibration-homotopy-equivalence:pr3} se $i>p$ vale $S\lambda^\epsilon_iu=\lambda^\epsilon_{i+1}Su$;
\item\label{spectral-sequence-of-fibration-homotopy-equivalence:pr4} se $q>0$ e $u$ è degenere, allora $Su$ è degenere.
%\item $Su(0,\ldots,0,t,x_1,\ldots,x_q)=u(0,\ldots,0,x_1,\ldots,x_q)$.
\end{enumerate}
\end{lemma}
\begin{proof}

\end{proof}
Dato un cubo $u\in E^{p,q}_0$, definiamo $hu=(-1)^pSu$, ed estendiamo $h$ a una mappa
$\map{h}{E^{p,q}_0}{E^{p,q+1}_0}$ per $\ZZ$-linearità. Osserviamo che $h$ è ben definita (ossia è compatibile con il quoziente che definisce $E^{p,q}_0$): infatti se $u\in Q^{p-1}_n(E)$ allora $Su\in Q^{p-1}_{n+1}(E)$ per la proprietà \ref{spectral-sequence-of-fibration-homotopy-equivalence:pr1}; se $u$ è degenere e $q>0$ allora $Su$ è degenere (proprietà \ref{spectral-sequence-of-fibration-homotopy-equivalence:pr4}), mentre se $u$ è degenere e $q=0$ allora $B^pSu$ è degenere (proprietà \ref{spectral-sequence-of-fibration-homotopy-equivalence:pr1}), dunque $Su\in Q^{p-1}_{n+1}(E)$.

Mostriamo ora che $h$ definisce un'omotopia fra $\psi^p\varphi^p$ e l'identità. Calcoliamo
\begin{align*}
d^p_0hu+hd^p_0u&=(-1)^p(d^p_0Su+Sd^p_0u)\\
&=(-1)^p\left(\sum_{i=p+1}^{n+1}(-1)^i(\lambda^0_iSu-\lambda^1_iSu)+\sum_{i=p+1}^n(-1)^i(S\lambda^0_iu-\lambda^1_iu)\right)\\
&=(-1)^p(-1)^{p+1}(u-K(B^pu,F^pu))+\\
&\phantomop(-1)^p\sum_{i=p+2}^{n+1}(-1)^i(S\lambda^0_{i-1}u-S\lambda^1_{i-1}u)+\\
&\phantomop(-1)^p\sum_{i=p+1}^n(-1)^i(S\lambda^0_iu-\lambda^1_iu)\\
&=K(B^pu,F^pu)-u\\
&=\psi^p\varphi^pu-u.
\end{align*}
Questo conclude la dimostrazione.
\end{proof}

Da questa proposizione segue che le mappe indotte in omologia $\map{\varphi_*}{H_q(E^{p,\bullet}_0)}{H_q(J^p_\bullet)}$ sono isomorfismi. Osserviamo però che $H_q(E^{p,\bullet}_0)=E^{p,q}_1$, mentre dal fatto che $C_p(B)$ è un gruppo abeliano libero segue
$$
H_q(J^p_\bullet)=H_q(C_p(B)\tensor C_\bullet(F))=C_p(B)\tensor H_q(F)=C_p(B;H_q(F)).
$$
Abbiamo dunque dimostrato la seguente.
\begin{proposition}\thlabel{spectral-sequence-of-fibration-E-1}
I morfismi di complessi $\varphi^p$ inducono isomorfismi $\map{\varphi_*}{E^{p,q}_1}{C_p(B;H_q(F))}$.
\end{proposition}

\section{Il termine \texorpdfstring{$E_2$}{E2}}
Per calcolare i termini $E^{p,q}_2$ della successione spettrale, è necessario studiare come si trasformano le mappe di bordo $d^{p,q}_1$ mediante l'isomorfismo $\varphi_*$.
\begin{proposition}\thlabel{spectral-sequence-of-fibration-boundary-map}
Supponiamo che il gruppo fondamentale di $B$ agisca banalmente sui gruppi di omologia di $F$. Allora il seguente diagramma commuta
\begin{diagram}
E^{p,q}_1\rar{d^{p,q}_1}\dar{\varphi_*}&E^{p-1,q}_1\dar{\varphi_*}\\
C_p(B;H_q(F))\rar{d}&C_{p-1}(B;H_q(F))
\end{diagram}
dove abbiamo denotato con $d$ la mappa di bordo canonica del complesso singolare.
\end{proposition}
\begin{proof}
Consideriamo un elemento $x=b\tensor h\in C_p(B;H_q(F))$, dove $b$ è un cubo di $B$ di dimensione $p$; sia $m\in C_q(F)$ un ciclo della classe di omologia di $h$. Ci proponiamo di calcolare $\varphi^{p-1}d\psi^p(b\tensor m)$; per passaggio al quoziente otterremo $\varphi_*d^{p,q}_1\varphi_*^{-1}x$. Scriviamo $m$ come somma di cubi: $m=\sum_{\alpha}g_\alpha u_\alpha$ con $g_\alpha\in\ZZ$. Calcoliamo
$$
d\psi^p(b\tensor m)=\sum_\alpha\sum_{i=1}^n(-1)^ig_\alpha(\lambda^0_iK(b,u_\alpha)-\lambda^1_iK(b,u_\alpha)).
$$
Osserviamo però che
\begin{align*}
\sum_{\alpha}\sum_{i=p+1}^n(-1)^ig_\alpha(\lambda^0_iK(b,u_\alpha)-\lambda^1_iK(b,u_\alpha))&=\sum_{\alpha}\sum_{i=p+1}^n(-1)^ig_\alpha(K(b,\lambda^0_{i-p}u_\alpha)-K(b,\lambda^1_{i-p}u_\alpha))\\
&=\sum_\alpha(-1)^pg_\alpha\psi^p(b\tensor du_\alpha)\\
&=(-1)^p\psi^p(b\tensor dm)\\
&=0,
\end{align*}
da cui
$$
d\psi^p(b\tensor m)=\sum_\alpha\sum_{i=1}^p(-1)^ig_\alpha(\lambda^0_iK(b,u_\alpha)-\lambda^1_iK(b,u_\alpha)).
$$
Poiché $K(b,u_\alpha)\in Q^p_{p+q}$, abbiamo che $\lambda^\epsilon_iK(b,u_\alpha)\in Q^{p-1}_{p+q-1}$, dunque possiamo applicare $\varphi^{p-1}$ ai singoli termini della sommatoria, ottenendo
$$
\varphi^{p-1}d\psi^p(b\tensor m)=\sum_\alpha\sum_{i=1}^p\sum_{\epsilon=0}^1(-1)^{i+\epsilon}g_\alpha B^{p-1}\lambda^\epsilon_iK(b,u_\alpha)\tensor F^{p-1}\lambda^\epsilon_iK(b,u_\alpha).
$$
Si vede facilmente che $B^{p-1}\lambda^{\epsilon}_iK(b,u_\alpha)=\lambda^\epsilon_i B^pK(b,u_\alpha)=\lambda^\epsilon_ib$. Per quanto riguarda $F^{p-1}\lambda^\epsilon_iK(b,u_\alpha)$ abbiamo invece
$$
(F^{p-1}\lambda^\epsilon_iK(b,u_\alpha))(x_1,\ldots,x_q)=K(b,u_\alpha)(0,\ldots,0,\epsilon,0,\ldots,0,x_1,\ldots,x_q)
$$
dove $\epsilon$ si trova in posizione $i$. Consideriamo l'applicazione $T$ che a ogni cubo $u$ di $F$ di dimensione $q$ associa un cubo $Tu$ di $E$ di dimensione $q+1$ definito da
$$
(Tu)(t,x_1,\ldots,x_q)=K(b,u)(0,\ldots,0,t\epsilon,0,\ldots,0,x_1,\ldots,x_q)
$$
dove $t\epsilon$ si trova di nuovo in posizione $i$. Si verifica facilmente che $T$ è una costruzione subordinata al cammino $t\mapsto b(0,\ldots,0,t\epsilon,0,\ldots,0)$. È inoltre evidente che $S_Tu=F^{p-1}\lambda^\epsilon_iK(b,u)$. Se denotiamo con $S_{i,\epsilon,b}$ il morfismo $S_T$ associato all'applicazione $T$ determinata dai valori fissati di $i,\epsilon$ e $b$, possiamo scrivere
\begin{align*}
\varphi^{p-1}d\psi^p(b\tensor m)&=\sum_\alpha\sum_{i=1}^p(-1)^{i}g_\alpha(\lambda^0_ib\tensor S_{i,0,b}u_\alpha-\lambda^1_ib\tensor S_{i,1,b}u_\alpha)\\
&=\sum_{i=1}^p(-1)^i(\lambda^0_ib\tensor S_{i,0,b}m-\lambda^1_ib\tensor S_{i,1,b}m).
\end{align*}
Passando al quoziente, ricordando che $S_{i,\epsilon, b}$ induce l'identità in omologia, otteniamo infine
$$
\varphi_*d^{p,q}_1\varphi_*^{-1}x\varphi_*d^{p,q}_1=\varphi_*^{-1}(b\tensor h)=db\tensor h.
$$
\end{proof}
Da questa proposizione segue immediatamente il risultato conclusivo della sezione.
\begin{proposition}\thlabel{spectral-sequence-of-fibration-E-2}
Supponiamo che il gruppo fondamentale di $B$ agisca banalmente sui gruppi di omologia di $F$. Allora $\varphi_*$ induce un isomorfismo $E^{p,q}_2\iso H_p(B;H_q(F))$.
\end{proposition}

Osserviamo che i risultati ottenuti fino a questo punto rimangono validi, con le medesime dimostrazioni, se consideriamo l'omologia a coefficienti in un gruppo abeliano $G$ invece che in $\ZZ$: a ogni spazio fibrato si può associare una successione spettrale $E^{p,q}_r$ (derivante dall'omologia a coefficienti in $G$) i cui termini con $r=2$ sono isomorfi a $H_p(B;H_q(F;G))$.

\section{Applicazioni}
Presentiamo ora due risultati le cui dimostrazioni fanno uso degli strumenti sviluppati in questo capitolo.

\begin{proposition}\thlabel{fibration-finitely-generated-homology-groups}
Sia $\fibration{F}{E}{B}$ una fibrazione in cui il gruppo fondamentale di $B$ agisce banalmente sui gruppi di omologia di $F$. Supponiamo che i gruppi $H_i(B)$ e $H_i(E)$ siano finitamente generati. Allora anche i gruppi $H_i(F)$ lo sono.
\end{proposition}
\begin{proof}
La dimostrazione segue esattamente lo schema di quella della \thref{homology-of-universal-covering-finitely-generated}, utilizzando la successione spettrale associata alla fibrazione in luogo di quella del rivestimento universale.
\end{proof}

\begin{proposition}\thlabel{fibration-homology-exact-sequence}
Sia $G$ un PID, $\fibration{F}{E}{B}$ una fibrazione in cui il gruppo fondamentale di $B$ agisce banalmente sui moduli di omologia di $F$. Supponiamo che $H_i(B;G)=0$ per $0<i<p$ e che $H_i(F;G)=0$ per $0<i<q$. Allora esiste una successione esatta
\begin{diagram}
H_{p+q-1}(F;G)\rar&H_{p+q-1}(E;G)\rar&H_{p+q-1}(B;G)\rar{d_{p+q-1}}&H_{p+q-2}(F;G)\rar&\ldots\rar&H_2(B;G)\rar{d_2}&H_1(F;G)\rar&H_1(E;G)\rar&H_1(B;G)\rar&0
\end{diagram}
\end{proposition}
\begin{proof}
Consideriamo la successione spettrale $E^{p,q}_r$ associata alla fibrazione. Per il teorema dei coefficienti universali vale
$$
E^{i,j}_2=(H_i(B;G)\tensor H_j(F;G))\dirsum\Tor(H_{i-1}(B;G),H_j(F;G)),
$$
da cui $E^{i,j}_2=0$ se $i,j>0$ e $i+j\le p+q-1$. Pertanto, se $1\le n\le p+q-1$, ci sono al più due termini $E^{i,j}_2$ non nulli con $i+j=n$ (ossia $(i,j)=(0,n)$ e $(i,j)=(n,0)$). Possiamo dunque applicare la \thref{spectral-sequence-exact-sequence} con $(a_n',b_n')=(0,n)$ e $(a_n'',b_n'')=(n,0)$ (si vede facilmente che le altre condizioni sono verificate). La successione esatta che otteniamo, ricordando che $E^{0,n}_2=H_n(F;G)$ e $E^{n,0}=H_n(B;G)$, è precisamente quella della tesi.
\end{proof}

\section{Dimostrazione dei lemmi}\label{spectral-sequences-of-fibration:proofs}